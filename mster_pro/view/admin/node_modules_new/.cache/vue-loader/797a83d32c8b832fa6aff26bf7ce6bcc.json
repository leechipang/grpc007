{"remainingRequest":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\user\\list\\index.vue?vue&type=template&id=2f2cef3b&scoped=true&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\user\\list\\index.vue","mtime":1616039332119},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"divBox\">\n  <el-card class=\"box-card\">\n    <div slot=\"header\" class=\"clearfix\">\n      <el-tabs v-model=\"user_type\" @tab-click=\"getList(1)\">\n        <el-tab-pane label=\"全部用户\" name=\"\"/>\n        <el-tab-pane label=\"微信用户\" name=\"wechat\"/>\n        <el-tab-pane label=\"小程序用户\" name=\"routine\"/>\n        <el-tab-pane label=\"H5用户\" name=\"h5\"/>\n      </el-tabs>\n      <div class=\"container\">\n        <el-form inline size=\"small\" :label-position=\"labelPosition\" label-width=\"100px\">\n          <el-row>\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"18\" :xl=\"18\">\n              <el-col v-bind=\"grid\">\n                <el-form-item label=\"会员昵称：\">\n                  <el-input v-model=\"userFrom.nickname\" placeholder=\"请输入昵称\" clearable class=\"selWidth\"/>\n                </el-form-item>\n              </el-col>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"18\" :xl=\"18\">\n              <el-col v-bind=\"grid\">\n                <el-form-item label=\"真实姓名：\">\n                  <el-input v-model=\"userFrom.real_name\" placeholder=\"请输入真实姓名\" clearable class=\"selWidth\"/>\n                </el-form-item>\n              </el-col>\n            </el-col>\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"18\" :xl=\"18\">\n              <el-col v-bind=\"grid\">\n                <el-form-item label=\"身份证：\">\n                  <el-input v-model=\"userFrom.card_id\" placeholder=\"请输入身份证\" clearable class=\"selWidth\"/>\n                </el-form-item>\n              </el-col>\n            </el-col>\n            <template v-if=\"collapse\">\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"18\" :xl=\"18\">\n                <el-col v-bind=\"grid\">\n                  <el-form-item label=\"会员分组：\">\n                    <el-select v-model=\"userFrom.group_id\" placeholder=\"请选择\" class=\"selWidth\" clearable filterable>\n                      <el-option value=\"\">全部</el-option>\n                      <el-option v-for=\"(item, index) in groupList\" :key=\"index\" :value=\"item.group_id\"\n                                 :label=\"item.group_name\"/>\n                    </el-select>\n                  </el-form-item>\n                </el-col>\n                <el-col v-bind=\"grid\">\n                  <el-form-item label=\"会员标签：\">\n                    <el-select v-model=\"userFrom.label_id\" placeholder=\"请选择\" class=\"selWidth\" clearable filterable>\n                      <el-option value=\"\">全部</el-option>\n                      <el-option v-for=\"(item, index) in labelLists\" :key=\"index\" :value=\"item.label_id\"\n                                 :label=\"item.label_name\"/>\n                    </el-select>\n                  </el-form-item>\n                </el-col>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"18\" :xl=\"18\">\n                <el-col v-bind=\"grid\">\n                  <el-form-item label=\"性别：\">\n                    <el-radio-group v-model=\"userFrom.sex\" type=\"button\" class=\"selWidth\">\n                      <el-radio-button label=\"\">\n                        <span>全部</span>\n                      </el-radio-button>\n                      <el-radio-button label=\"1\">\n                        <span>男</span>\n                      </el-radio-button>\n                      <el-radio-button label=\"2\">\n                        <span>女</span>\n                      </el-radio-button>\n                      <el-radio-button label=\"0\">\n                        <span>保密</span>\n                      </el-radio-button>\n                    </el-radio-group>\n                  </el-form-item>\n                </el-col>\n                <el-col v-bind=\"grid\">\n                  <el-form-item label=\"身份：\">\n                    <el-radio-group v-model=\"userFrom.is_promoter\" type=\"button\" class=\"selWidth\">\n                      <el-radio-button label=\"\">\n                        <span>全部</span>\n                      </el-radio-button>\n                      <el-radio-button label=\"1\">\n                        <span>推广员</span>\n                      </el-radio-button>\n                      <el-radio-button label=\"0\">\n                        <span>普通会员</span>\n                      </el-radio-button>\n                    </el-radio-group>\n                  </el-form-item>\n                </el-col>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"18\" :xl=\"18\">\n                <el-col v-bind=\"grid\">\n                  <el-form-item label=\"访问情况：\">\n                    <el-select v-model=\"userFrom.user_time_type\" placeholder=\"请选择\" class=\"selWidth\" clearable>\n                      <!--<el-option value=\"visitno\" label=\"时间段未访问\" />-->\n                      <el-option value=\"visit\" label=\"最后访问\"/>\n                      <el-option value=\"add_time\" label=\"首次访问\"/>\n                    </el-select>\n                  </el-form-item>\n                </el-col>\n                <el-col v-bind=\"grid\">\n                  <el-form-item label=\"消费情况：\">\n                    <el-select v-model=\"userFrom.pay_count\" placeholder=\"请选择\" class=\"selWidth\" clearable>\n                      <el-option value=\"-1\" label=\"0次\"></el-option>\n                      <el-option value=\"0\" label=\"1次以上\"></el-option>\n                      <el-option value=\"1\" label=\"2次以上\"></el-option>\n                      <el-option value=\"2\" label=\"3次以上\"></el-option>\n                      <el-option value=\"3\" label=\"4次以上\"></el-option>\n                      <el-option value=\"4\" label=\"5次以上\"></el-option>\n                    </el-select>\n                  </el-form-item>\n                </el-col>\n              </el-col>\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"18\" :xl=\"18\">\n                <el-col v-bind=\"grid\">\n                  <el-form-item label=\"访问时间：\" class=\"timeBox\">\n                    <el-date-picker v-model=\"timeVal\" value-format=\"yyyy/MM/dd\" align=\"right\" unlink-panels\n                                    format=\"yyyy/MM/dd\" size=\"small\" type=\"daterange\" placement=\"bottom-end\"\n                                    placeholder=\"自定义时间\" class=\"selWidth\" :picker-options=\"pickerOptions\"\n                                    @change=\"onchangeTime\"/>\n                  </el-form-item>\n                </el-col>\n              </el-col>\n            </template>\n            <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"6\" :xl=\"6\" class=\"text-right userFrom\">\n              <el-form-item>\n                <el-button type=\"primary\" icon=\"ios-search\" label=\"default\" class=\"mr15\" size=\"small\"\n                           @click=\"userSearchs\">搜索\n                </el-button>\n                <el-button class=\"ResetSearch mr10\" size=\"small\" type=\"reset\" @click=\"reset('userFrom')\">重置\n                </el-button>\n                <a class=\"ivu-ml-8\" @click=\"collapse = !collapse\">\n                  <template v-if=\"!collapse\">\n                    展开 <i class=\"el-icon-arrow-down\"/>\n                  </template>\n                  <template v-else>\n                    收起 <i class=\"el-icon-arrow-up\"/>\n                  </template>\n                </a>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </el-form>\n      </div>\n      <div class=\"mb15\">\n        <el-button v-show=\"user_type === 'wechat'\" size=\"mini\" class=\"mr10\" @click=\"sendNews\">发送图文消息</el-button>\n        <el-button size=\"mini\" class=\"mr10\" @click=\"batchGroup\">批量设置分组</el-button>\n        <el-button size=\"mini\" @click=\"batchlabel\">批量设置标签</el-button>\n      </div>\n      <el-alert v-if=\"multipleSelection.length>0\" :title=\"`已选择  ${multipleSelection.length}  项`\" type=\"info\"\n                show-icon/>\n    </div>\n    <el-table v-loading=\"listLoading\" :data=\"tableData.data\" style=\"width: 100%\" size=\"small\" highlight-current-row\n              @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"首次访问：\">\n              <span>{{ props.row.create_time }}</span>\n            </el-form-item>\n            <el-form-item label=\"近次访问：\">\n              <span>{{ props.row.last_time }}</span>\n            </el-form-item>\n            <el-form-item label=\"身份证号：\">\n              <span>{{ props.row.card_id }}</span>\n            </el-form-item>\n            <el-form-item label=\"手机号：\">\n              <span>{{ props.row.phone }}</span>\n            </el-form-item>\n            <el-form-item label=\"真实姓名：\">\n              <span>{{ props.row.real_name }}</span>\n            </el-form-item>\n            <el-form-item label=\"标签：\">\n              <span v-for=\"(item, index) in props.row.label\" :key=\"index\" v-text=\"item\"/>\n            </el-form-item>\n            <el-form-item label=\"生日：\">\n              <span>{{ props.row.birthday }}</span>\n            </el-form-item>\n            <el-form-item label=\"地址：\">\n              <span>{{ props.row.addres }}</span>\n            </el-form-item>\n            <el-form-item label=\"备注：\">\n              <span>{{ props.row.mark }}</span>\n            </el-form-item>\n          </el-form>\n        </template>\n      </el-table-column>\n      <el-table-column type=\"selection\" width=\"55\"/>\n      <el-table-column prop=\"uid\" label=\"ID\" min-width=\"60\"/>\n      <el-table-column label=\"头像\" min-width=\"50\">\n        <template slot-scope=\"scope\">\n          <div class=\"demo-image__preview\">\n            <el-image style=\"width: 36px; height: 36px\" :src=\"scope.row.avatar ? scope.row.avatar : moren\"\n                      :preview-src-list=\"[scope.row.avatar || moren]\"/>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"昵称\" min-width=\"150\">\n        <template slot-scope=\"{row}\">\n          <div class=\"acea-row\">\n            <i v-show=\"row.sex===1\" class=\"el-icon-male mr5\"\n               style=\"font-size: 15px; margin-top: 3px; color:#2db7f5; \"/>\n            <i v-show=\"row.sex===2\" class=\"el-icon-female mr5\"\n               style=\"font-size: 15px; margin-top: 3px; color:#ed4014; \"/>\n            <div v-text=\"row.nickname\"/>\n          </div>\n          <div v-show=\"row.vip_name\" class=\"vipName\">{{ row.vip_name }}</div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"真实姓名\" min-width=\"150\">\n        <template slot-scope=\"{row}\">\n          <div class=\"acea-row\">\n            <div v-text=\"row.real_name\"/>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"身份证\" min-width=\"200\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.card_id }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"分组\" min-width=\"100\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.group?row.group.group_name:'无' }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"推荐人\" min-width=\"140\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.spread ? row.spread.nickname + ' / ' + row.spread.spread_uid : '-'  }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"用户类型\" min-width=\"100\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.user_type === 'routine' ? '小程序' : row.user_type === 'wechat' ? '公众号' : 'H5' }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"now_money\" label=\"余额\" sortable min-width=\"100\"\n                       :sort-method=\"(a,b)=>{return a.now_money - b.now_money}\"/>\n      <el-table-column prop=\"score\" label=\"积分\" sortable min-width=\"100\"\n                       :sort-method=\"(a,b)=>{return a.score - b.score}\"/>\n      <el-table-column label=\"操作\" min-width=\"130\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"small\" class=\"mr10\" @click=\"onEdit(scope.row.uid)\">编辑</el-button>\n          <el-dropdown>\n                      <span class=\"el-dropdown-link\">\n                          更多<i class=\"el-icon-arrow-down el-icon--right\"/>\n                      </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item @click.native=\"onDetails(scope.row.uid)\">账户详情</el-dropdown-item>\n              <el-dropdown-item @click.native=\"setMoney(scope.row)\">设置余额</el-dropdown-item>\n              <el-dropdown-item @click.native=\"setScore(scope.row)\">设置积分</el-dropdown-item>\n              <el-dropdown-item v-if=\"scope.row.vip_name\">清除等级</el-dropdown-item>\n              <el-dropdown-item @click.native=\"setGroup(scope.row)\">设置分组</el-dropdown-item>\n              <el-dropdown-item @click.native=\"setLabel(scope.row)\">设置标签</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"block\">\n      <el-pagination :page-sizes=\"[20, 40, 60, 80]\" :page-size=\"userFrom.limit\" :current-page=\"userFrom.page\"\n                     layout=\"total, sizes, prev, pager, next, jumper\" :total=\"tableData.total\"\n                     @size-change=\"handleSizeChange\" @current-change=\"pageChange\"/>\n    </div>\n  </el-card>\n  <el-dialog title=\"提示\" :visible.sync=\"visible\" width=\"1000px\" :before-close=\"handleClose\" class=\"dia\">\n    <news-category v-if=\"visible\" :is-show-send=\"isShowSend\" :wechat-ids=\"wechatIds\" :user-ids=\"ids\"\n                   :max-cols=\"maxCols\"/>\n    <!--<span slot=\"footer\" class=\"dialog-footer\" />-->\n  </el-dialog>\n  <!--账户详情-->\n  <el-dialog v-if=\"uid\" title=\"会员详情\" :visible.sync=\"visibleDetail\" width=\"1000px\" :before-close=\"Close\">\n    <user-details v-if=\"visibleDetail\" ref=\"userDetails\" :uid=\"uid\"/>\n  </el-dialog>\n</div>\n",null]}