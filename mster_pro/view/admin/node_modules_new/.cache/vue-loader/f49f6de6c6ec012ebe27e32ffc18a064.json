{"remainingRequest":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\dashboard\\components\\toDay.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\dashboard\\components\\toDay.vue","mtime":1609299900000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n    statisticsOrderApi,\n    statisticsOrderNumApi,\n    statisticsOrderUserApi\n} from '@/api/home'\nimport echartsFrom from '@/components/echarts/index'\nimport echarts from 'echarts'\nexport default {\n    name: 'ToDay',\n    components: {\n        echartsFrom\n    },\n    data() {\n        return {\n            style: {\n                height: '200px'\n            },\n            styleToday: {\n                height: '130px'\n            },\n            legendData: ['今天', '昨天'],\n            seriesData: [],\n            timer: [],\n            grid: {\n                xl: 12,\n                lg: 12,\n                md: 12,\n                sm: 24,\n                xs: 24\n            },\n            statisticsData: {},\n            orderData: {},\n            orderUserData: {},\n            optionData: {},\n            listLoading: false,\n            optionDataOrder: {},\n            optionOrderUser: {}\n        }\n    },\n    beforeDestroy() {\n        if (this.visitChart) {\n            this.visitChart.dispose()\n            this.visitChart = null\n        }\n    },\n    mounted() {\n        this.getList()\n        this.getOrder()\n        this.getOrderUser()\n    },\n    methods: {\n        getList() {\n            this.listLoading = true\n            statisticsOrderApi().then(res => {\n              if(res.status === 200){\n                this.statisticsData = res.data\n                const dataList = this.statisticsData.order.filter(item => {\n                  return (item.yesterday !== 0 || item.today !== 0)\n                })\n                dataList.unshift({\n                  time: '00:00',\n                  today: 0,\n                  yesterday: 0\n                })\n                const seriesData = [{\n                  name: '今天',\n                  type: 'line',\n                  stack: '订单额',\n                  areaStyle: {\n                    normal: {\n                      color: new echarts.graphic.LinearGradient(\n                        0, 0, 0, 1,\n                        [{\n                          offset: 0,\n                          color: '#5B8FF9'\n                        },\n                          {\n                            offset: 0.5,\n                            color: '#fff'\n                          },\n                          {\n                            offset: 1,\n                            color: '#fff'\n                          }\n                        ]\n                      )\n                    }\n                  },\n                  itemStyle: {\n                    normal: {\n                      color: '#5B8FF9',\n                      lineStyle: {\n                        color: '#5B8FF9'\n                      }\n                    }\n                  },\n                  data: dataList.map(item => {\n                    return Number(item.today)\n                  }),\n                  smooth: true\n                },\n                  {\n                    name: '昨天',\n                    type: 'line',\n                    stack: '订单额',\n                    areaStyle: {\n                      normal: {\n                        color: new echarts.graphic.LinearGradient(\n                          0, 0, 0, 1,\n                          [{\n                            offset: 0,\n                            color: '#BFBFBF'\n                          },\n                            {\n                              offset: 0.5,\n                              color: '#fff'\n                            },\n                            {\n                              offset: 1,\n                              color: '#fff'\n                            }\n                          ]\n                        )\n                      }\n                    },\n                    itemStyle: {\n                      normal: {\n                        color: '#D9D9D9',\n                        lineStyle: {\n                          color: '#D9D9D9'\n                        }\n                      }\n                    },\n                    data: dataList.map(item => {\n                      return Number(item.yesterday)\n                    })\n                  }\n                ]\n                this.optionData = {\n                  tooltip: {\n                    trigger: 'axis'\n                  },\n                  legend: {\n                    x: '1px',\n                    y: '10px',\n                    data: this.legendData\n                  },\n                  grid: {\n                    left: '0%',\n                    right: '4%',\n                    bottom: '3%',\n                    containLabel: true\n                  },\n                  xAxis: [{\n                    boundaryGap: false,\n                    data: dataList.map(item => {\n                      return item.time\n                    }),\n                    axisLine: {\n                      show: false\n                    },\n                    show: false\n                  }],\n                  yAxis: {\n                    show: false\n                  },\n                  series: seriesData\n                }\n                this.listLoading = false\n              }\n            }).catch(res => {\n                this.listLoading = false\n                this.$message.error(res.message)\n            })\n        },\n        getOrder() {\n            statisticsOrderNumApi().then(res => {\n                if(res.status === 200){\n                  this.orderData = res.data\n                  const dataList = this.orderData.today.filter(item => {\n                    return item.total !== 0\n                  })\n                  dataList.unshift({\n                    time: '00:00',\n                    total: 0\n                  })\n                  const seriesData = [{\n                    name: '今天',\n                    type: 'line',\n                    stack: '订单额',\n                    areaStyle: {\n                      normal: {\n                        color: new echarts.graphic.LinearGradient(\n                          0, 0, 0, 1,\n                          [{\n                            offset: 0,\n                            color: '#5B8FF9'\n                          },\n                            {\n                              offset: 0.5,\n                              color: '#fff'\n                            },\n                            {\n                              offset: 1,\n                              color: '#fff'\n                            }\n                          ]\n                        )\n                      }\n                    },\n                    itemStyle: {\n                      normal: {\n                        color: '#5B8FF9',\n                        lineStyle: {\n                          color: '#5B8FF9'\n                        }\n                      }\n                    },\n                    data: dataList.map(item => {\n                      return item.total\n                    }),\n                    smooth: true\n                  }]\n                  this.optionDataOrder = {\n                    tooltip: {\n                      trigger: 'axis',\n                      axisPointer: {\n                        type: 'cross',\n                        label: {\n                          backgroundColor: '#6a7985'\n                        }\n                      }\n                    },\n                    legend: {\n                      x: '1px',\n                      y: '10px',\n                      data: ['今天']\n                    },\n                    grid: {\n                      left: '0%',\n                      right: '4%',\n                      bottom: '3%',\n                      containLabel: true\n                    },\n                    axisLine: {\n                      show: false\n                    },\n                    xAxis: [{\n                      type: 'category',\n                      boundaryGap: false,\n                      data: dataList.map(item => {\n                        return item.time\n                      }),\n                      axisLine: {\n                        show: false\n                      },\n                      show: false\n                    }],\n                    yAxis: {\n                      show: false\n                    },\n                    series: seriesData\n                  }\n                }\n            }).catch(res => {\n                this.$message.error(res.message)\n            })\n        },\n        getOrderUser() {\n            statisticsOrderUserApi().then(res => {\n                if(res.status === 200){\n                    this.orderUserData = res.data\n                    const dataList = this.orderUserData.today.filter(item => {\n                        return item.total !== 0\n                    })\n                    dataList.unshift({\n                        time: '00:00',\n                        total: 0\n                    })\n                    const seriesData = [{\n                        name: '今天',\n                        type: 'line',\n                        stack: '人数',\n                        areaStyle: {\n                            normal: {\n                                color: new echarts.graphic.LinearGradient(\n                                    0, 0, 0, 1,\n                                    [{\n                                            offset: 0,\n                                            color: '#5B8FF9'\n                                        },\n                                        {\n                                            offset: 0.5,\n                                            color: '#fff'\n                                        },\n                                        {\n                                            offset: 1,\n                                            color: '#fff'\n                                        }\n                                    ]\n                                )\n                            }\n                        },\n                        itemStyle: {\n                            normal: {\n                                color: '#5B8FF9',\n                                lineStyle: {\n                                    color: '#5B8FF9'\n                                }\n                            }\n                        },\n                        data: dataList.map(item => {\n                            return item.total\n                        }),\n                        smooth: true\n                    }]\n                    this.optionOrderUser = {\n                        tooltip: {\n                            trigger: 'axis',\n                            axisPointer: {\n                                type: 'cross',\n                                label: {\n                                    backgroundColor: '#6a7985'\n                                }\n                            }\n                        },\n                        legend: {\n                            x: '1px',\n                            y: '10px',\n                            data: ['今天']\n                        },\n                        grid: {\n                            left: '0%',\n                            right: '4%',\n                            bottom: '3%',\n                            containLabel: true\n                        },\n                        axisLine: {\n                            show: false\n                        },\n                        xAxis: [{\n                            type: 'category',\n                            boundaryGap: false,\n                            data: dataList.map(item => {\n                                return item.time\n                            }),\n                            axisLine: {\n                                show: false\n                            },\n                            show: false\n                        }],\n                        yAxis: {\n                            show: false\n                        },\n                        series: seriesData\n                    }\n                }\n            }).catch(res => {\n                this.$message.error(res.message)\n            })\n        }\n    }\n}\n",null]}