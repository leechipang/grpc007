{"remainingRequest":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\accounts\\capital\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\accounts\\capital\\index.vue","mtime":1598188318000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { billListApi, billTypeApi } from '@/api/accounts'\r\nimport { fromList } from '@/libs/constants.js'\r\nexport default {\r\n  name: 'AccountsCapital',\r\n  data() {\r\n    return {\r\n      timeVal: [],\r\n      tableData: {\r\n        data: [],\r\n        total: 0\r\n      },\r\n      listLoading: true,\r\n      tableFrom: {\r\n        type: '',\r\n        date: '',\r\n        keyword: '',\r\n        page: 1,\r\n        limit: 20\r\n      },\r\n      fromList: fromList,\r\n      options: []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getTypes()\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    selectChange(tab) {\r\n      this.tableFrom.date = tab\r\n      this.timeVal = []\r\n      this.tableFrom.page = 1;\r\n      this.getList()\r\n    },\r\n    // 具体日期\r\n    onchangeTime(e) {\r\n      this.timeVal = e\r\n      this.tableFrom.date = e ? this.timeVal.join('-') : ''\r\n      this.tableFrom.page = 1;\r\n      this.getList()\r\n    },\r\n    // 列表\r\n    getList(num) {\r\n      this.listLoading = true\r\n      this.tableFrom.page = num ? num : this.tableFrom.page;\r\n      billListApi(this.tableFrom).then(res => {\r\n        this.tableData.data = res.data.list\r\n        this.tableData.total = res.data.count\r\n        this.listLoading = false\r\n      }).catch((res) => {\r\n        this.$message.error(res.message)\r\n        this.listLoading = false\r\n      })\r\n    },\r\n    pageChange(page) {\r\n      this.tableFrom.page = page\r\n      this.getList()\r\n    },\r\n    handleSizeChange(val) {\r\n      this.tableFrom.limit = val\r\n      this.getList()\r\n    },\r\n    getTypes() {\r\n      billTypeApi().then(res => {\r\n        this.options = res.data\r\n        localStorage.setItem('CashKey', JSON.stringify(res.data))\r\n      }).catch((res) => {\r\n        this.$message.error(res.message)\r\n      })\r\n    }\r\n  }\r\n}\r\n",null]}