{"remainingRequest":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\marketing\\assist\\assist_list\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\marketing\\assist\\assist_list\\index.vue","mtime":1612255397000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { assistListApi, merSelectApi } from \"@/api/product\";\nimport { roterPre } from \"@/settings\";\nimport { fromList } from \"@/libs/constants.js\";\nimport detailsData from \"./detail\";\n\nconst defaultObj = {\n  product_id: \"\",\n  image: \"\",\n  slider_image: [],\n  store_name: \"\",\n  store_info: \"\",\n  start_day: \"\",\n  end_day: \"\",\n  start_time: \"\",\n  end_time: \"\",\n  is_open_recommend: 1,\n  is_open_state: 1,\n  is_show: 1,\n  presell_type: 1,\n  keyword: \"\",\n  brand_id: \"\", // 品牌id\n  cate_id: \"\", // 平台分类id\n  mer_cate_id: [], // 商户分类id\n  unit_name: \"\",\n  integral: 0,\n  sort: 0,\n  is_good: 0,\n  temp_id: \"\",\n  preSale_date: \"\",\n  finalPayment_date: \"\",\n  delivery_type: 1,\n  delivery_day: 10,\n  attrValue: [\n    {\n      image: \"\",\n      price: null,\n      down_price: null,\n      presell_price: null,\n      cost: null,\n      ot_price: null,\n      old_stock: null,\n      stock: null,\n      bar_code: \"\",\n      weight: null,\n      volume: null\n    }\n  ],\n  attr: [],\n  extension_type: 0,\n  content: \"\",\n  spec_type: 0,\n  // give_coupon_ids: [],\n  is_gift_bag: 0\n  // couponData: [],\n};\n\nexport default {\n  name: \"ProductList\",\n  components: { detailsData },\n  data() {\n    return {\n      props: {\n        emitPath: false\n      },\n      roterPre: roterPre,\n      listLoading: true,\n      tableData: {\n        data: [],\n        total: 0\n      },\n      assistStatusList: [\n        { label: \"未开始\", value: 0 },\n        { label: \"正在进行\", value: 1 },\n        { label: \"已结束\", value: 2 }\n      ],\n      fromList: fromList,\n      tableFrom: {\n        page: 1,\n        limit: 20,\n        keyword: \"\",\n        date: \"\",\n        type: \"\",\n        is_trader: \"\",\n        mer_id: \"\",\n        user_name: \"\"\n      },\n      modals: false,\n      dialogVisible: false,\n      loading: false,\n      manyTabTit: {},\n      manyTabDate: {},\n      formValidate: Object.assign({}, defaultObj),\n      OneattrValue: [Object.assign({}, defaultObj.attrValue[0])], // 单规格\n      ManyAttrValue: [Object.assign({}, defaultObj.attrValue[0])], // 多规格\n      attrInfo: {},\n      timeVal: \"\",\n      isShowDetail: false,\n      merSelect: []\n    };\n  },\n  mounted() {\n    this.getList(\"\");\n    this.getMerSelect();\n  },\n  methods: {\n    watCh() {},\n    // 商户列表；\n    getMerSelect() {\n      merSelectApi()\n        .then(res => {\n          this.merSelect = res.data;\n        })\n        .catch(res => {\n          this.$message.error(res.message);\n        });\n    },\n    // 查看详情\n    goDetail(id) {\n      this.$refs.detailsData.dialogVisible = true;\n      this.isShowDetail = true;\n      this.$refs.detailsData.getList(id);\n    },\n    // 选择时间\n    selectChange(tab) {\n      this.tableFrom.date = tab;\n      this.tableFrom.page = 1;\n      this.timeVal = [];\n      this.getList(\"\");\n    },\n    // 具体日期\n    onchangeTime(e) {\n      this.timeVal = e;\n      this.tableFrom.date = e ? this.timeVal.join(\"-\") : \"\";\n      this.tableFrom.page = 1;\n      this.getList(\"\");\n    },\n    // 列表\n    getList(num) {\n      this.listLoading = true;\n      this.tableFrom.page = num ? num : this.tableFrom.page;\n      assistListApi(this.tableFrom)\n        .then(res => {\n          this.tableData.data = res.data.list;\n          this.tableData.total = res.data.count;\n          this.listLoading = false;\n        })\n        .catch(res => {\n          this.listLoading = false;\n          this.$message.error(res.message);\n        });\n    },\n    pageChange(page) {\n      this.tableFrom.page = page;\n      this.getList(\"\");\n    },\n    handleSizeChange(val) {\n      this.tableFrom.limit = val;\n      this.getList(\"\");\n    }\n  }\n};\n",null]}