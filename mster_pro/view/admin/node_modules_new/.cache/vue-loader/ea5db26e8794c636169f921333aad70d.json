{"remainingRequest":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\merchant\\list\\record.vue?vue&type=template&id=56930eb5&scoped=true&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\merchant\\list\\record.vue","mtime":1617711255678},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"divBox\">\n    <el-card class=\"box-card mb20\">\n        <div slot=\"header\" class=\"clearfix\">\n            <router-link v-if=\"$route.params.type === '1'\" :to=\"{path:roterPre+'/merchant/list'}\">\n                <el-button size=\"mini\" class=\"mr20 mb20\" icon=\"el-icon-back\">返回</el-button>\n            </router-link>\n            <router-link v-else :to=\"{path:roterPre+'/accounts/reconciliation'}\">\n                <el-button size=\"mini\" class=\"mr20 mb20\" icon=\"el-icon-back\">返回</el-button>\n            </router-link>\n            <div v-if=\"$route.params.type === '1'\" class=\"filter-container\">\n                <el-form :inline=\"true\">\n                    <el-form-item label=\"使用状态：\" class=\"mr20\">\n                        <el-select v-model=\"tableFrom.status\" placeholder=\"请选择评价状态\" @change=\"init\">\n                            <el-option label=\"全部\" value=\"\" />\n                            <el-option label=\"未对账\" value=\"0\" />\n                            <el-option label=\"已对账\" value=\"1\" />\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"时间选择：\" class=\"mr10\">\n                        <el-date-picker v-model=\"timeVal\" type=\"daterange\" align=\"right\" unlink-panels format=\"yyyy 年 MM 月 dd 日\" value-format=\"yyyy/MM/dd\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" :picker-options=\"pickerOptions\" @change=\"onchangeTime\" />\n                    </el-form-item>\n                </el-form>\n            </div>\n            <el-button v-if=\"$route.params.type === '1'\" size=\"small\" type=\"primary\" @click=\"onAdd(0)\">商户对账</el-button>\n        </div>\n        <el-table v-loading=\"listLoading\" :data=\"tableData.data\" style=\"width: 100%\" size=\"mini\" class=\"table\" highlight-current-row>\n            <el-table-column type=\"expand\">\n                <template slot-scope=\"props\">\n                    <el-form label-position=\"left\" inline class=\"demo-table-expand demo-table-expands\">\n                        <el-form-item label=\"收货人：\">\n                            <span>{{ props.row.real_name | filterEmpty }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"电话：\">\n                            <span>{{ props.row.user_phone | filterEmpty }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"地址：\">\n                            <span>{{ props.row.user_address | filterEmpty }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"商品总数：\">\n                            <span>{{ props.row.total_num | filterEmpty }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"支付状态：\">\n                            <span>{{ props.row.pay_type | payTypeFilter }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"支付时间：\">\n                            <span>{{ props.row.pay_time | filterEmpty }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"对账备注：\">\n                            <span>{{ props.row.admin_mark }}</span>\n                        </el-form-item>\n                    </el-form>\n                </template>\n            </el-table-column>\n            <el-table-column v-if=\"$route.params.type === '1'\" width=\"50\">\n                <template slot=\"header\" slot-scope=\"scope\">\n                    <el-popover placement=\"top-start\" width=\"100\" trigger=\"hover\" class=\"tabPop\">\n                        <div>\n                            <span class=\"spBlock onHand\" :class=\"{'check': chkName === 'dan'}\" @click=\"onHandle('dan',scope.$index)\">选中本页</span>\n                            <span class=\"spBlock onHand\" :class=\"{'check': chkName === 'duo'}\" @click=\"onHandle('duo')\">选中全部</span>\n                        </div>\n                        <el-checkbox slot=\"reference\" :value=\"(chkName === 'dan' && checkedPage.indexOf(tableFrom.page) > -1) || chkName === 'duo'\" @change=\"changeType\" />\n                    </el-popover>\n                </template>\n                <template slot-scope=\"scope\">\n                    <el-checkbox :value=\"checkedIds.indexOf(scope.row.order_id) > -1 || (chkName === 'duo' && noChecked.indexOf(scope.row.order_id) === -1)\" @change=\"(v)=>changeOne(v,scope.row)\" />\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"order_id\" label=\"ID\" width=\"60\" />\n            <el-table-column label=\"是否对账\" min-width=\"100\">\n                <template slot-scope=\"scope\">\n                    <span>{{ scope.row.reconciliation_id | reconciliationFilter }}</span>\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"order_sn\" label=\"订单编号\" min-width=\"190\" />\n            <el-table-column label=\"商品信息\" min-width=\"330\">\n                <template slot-scope=\"scope\">\n                    <div v-for=\"(val, i ) in scope.row.orderProduct\" :key=\"i\" class=\"tabBox acea-row row-middle\">\n                        <div class=\"demo-image__preview\">\n                            <el-image :src=\"val.cart_info.product.image\" :preview-src-list=\"[val.cart_info.product.image]\" />\n                        </div>\n                        <span class=\"tabBox_tit\">{{ val.cart_info.product.store_name + ' | ' }}{{ val.cart_info.productAttr.sku }}</span>\n                        <span class=\"tabBox_pice\">{{ '￥'+ val.cart_info.productAttr.price + ' x '+ val.product_num }}</span>\n                    </div>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"商品总价\" min-width=\"150\">\n                <template slot-scope=\"scope\">\n                    <span>{{ getTotal(scope.row.orderProduct) }}</span>\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"pay_price\" label=\"实际支付\" min-width=\"100\" />\n            <el-table-column prop=\"score\" label=\"实际支付积分\" min-width=\"100\" />\n            <el-table-column label=\"佣金金额\" min-width=\"100\">\n              <template slot-scope=\"scope\">\n                <span>{{Number(scope.row.extension_one)+Number(scope.row.extension_two)}}</span>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"total_postage\" label=\"邮费\" min-width=\"100\" />\n          <el-table-column prop=\"order_rate\" label=\"手续费\" min-width=\"100\" />\n            <el-table-column prop=\"create_time\" label=\"下单时间\" min-width=\"150\" />\n            <el-table-column v-if=\"$route.params.type === '1'\" label=\"操作\" min-width=\"80\" fixed=\"right\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <el-button type=\"text\" size=\"small\" @click=\"addMark(scope.row.order_id)\">添加备注</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <div class=\"block mb20\">\n            <el-pagination :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"tableFrom.limit\" :current-page=\"tableFrom.page\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"tableData.total\" @size-change=\"handleSizeChange\" @current-change=\"pageChange\" />\n        </div>\n    </el-card>\n    <el-card class=\"box-card\">\n        <el-table v-loading=\"listLoading\" :data=\"tableDataRefund.data\" style=\"width: 100%\" size=\"mini\" class=\"table\" highlight-current-row>\n            <el-table-column type=\"expand\">\n                <template slot-scope=\"props\">\n                    <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n                        <el-form-item label=\"订单号：\">\n                            <span>{{ props.row.order.order_sn }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"退款商品总价：\">\n                            <span>{{ getTotalRefund(props.row.refundProduct) }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"退款商品总数：\">\n                            <span>{{ props.row.refund_num }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"申请退款时间：\">\n                            <span>{{ props.row.create_time | filterEmpty }}</span>\n                        </el-form-item>\n                        <el-form-item label=\"对账备注：\">\n                            <span>{{ props.row.admin_mark }}</span>\n                        </el-form-item>\n                    </el-form>\n                </template>\n            </el-table-column>\n            <el-table-column v-if=\"$route.params.type === '1'\" width=\"50\">\n                <template slot=\"header\" slot-scope=\"scope\">\n                    <el-popover placement=\"top-start\" width=\"100\" trigger=\"hover\" class=\"tabPop\">\n                        <div>\n                            <span class=\"spBlock onHand\" :class=\"{'check': chkNameRefund === 'dan'}\" @click=\"onHandleRefund('dan',scope.$index)\">选中本页</span>\n                            <span class=\"spBlock onHand\" :class=\"{'check': chkNameRefund === 'duo'}\" @click=\"onHandleRefund('duo')\">选中全部</span>\n                        </div>\n                        <el-checkbox slot=\"reference\" :value=\"(chkNameRefund === 'dan' && checkedPage.indexOf(tableFrom.page) > -1) || chkNameRefund === 'duo'\" @change=\"changeTypeRefund\" />\n                    </el-popover>\n                </template>\n                <!--:disabled=\"isDisabled\"-->\n                <template slot-scope=\"scope\">\n                    <el-checkbox :value=\"refundCheckedIds.indexOf(scope.row.refund_order_id) > -1 || (chkNameRefund === 'duo' && refundNoChecked.indexOf(scope.row.refund_order_id) === -1)\" @change=\"(v)=>changeOneRefund(v,scope.row)\" />\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"refund_order_id\" label=\"ID\" width=\"60\" />\n            <el-table-column label=\"退款单号\" min-width=\"170\">\n                <template slot-scope=\"scope\">\n                    <span style=\"display: block;\" v-text=\"scope.row.refund_order_sn\" />\n                    <span v-show=\"scope.row.is_del > 0\" style=\"color: #ED4014;display: block;\">用户已删除</span>\n                </template>\n            </el-table-column>\n            <el-table-column label=\"是否对账\" min-width=\"100\">\n                <template slot-scope=\"scope\">\n                    <span>{{ scope.row.reconciliation_id | reconciliationFilter }}</span>\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"user.nickname\" label=\"用户信息\" min-width=\"130\" />\n            <el-table-column prop=\"refund_price\" label=\"退款金额\" min-width=\"130\" />\n            <el-table-column prop=\"refund_score\" label=\"退款积分\" min-width=\"130\" />\n            <el-table-column prop=\"nickname\" label=\"商品信息\" min-width=\"330\">\n                <template slot-scope=\"scope\">\n                    <div v-for=\"(val, i ) in scope.row.refundProduct\" :key=\"i\" class=\"tabBox acea-row row-middle\">\n                        <div class=\"demo-image__preview\">\n                            <el-image :src=\"val.product.cart_info.product.image\" :preview-src-list=\"[val.product.cart_info.product.image]\" />\n                        </div>\n                        <span class=\"tabBox_tit\">{{ val.product.cart_info.product.store_name + ' | ' }}{{ val.product.cart_info.productAttr.sku }}</span>\n                        <span class=\"tabBox_pice\">{{ '￥'+ val.product.cart_info.productAttr.price + ' x '+ val.product.product_num }}</span>\n                    </div>\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"serviceScore\" label=\"订单状态\" min-width=\"250\">\n                <template slot-scope=\"scope\">\n                    <span style=\"display: block\">{{ scope.row.status | orderRefundFilter }}</span>\n                    <span style=\"display: block\">退款原因：{{ scope.row.refund_message }}</span>\n                    <!--<p>备注说明：{{scope.row.mark}}</p>-->\n                    <span style=\"display: block\">状态变更时间：{{ scope.row.status_time }}</span>\n                    <!--<p>备注凭证：{{}}</p>-->\n                </template>\n            </el-table-column>\n            <el-table-column v-if=\"$route.params.type === '1'\" key=\"10\" label=\"操作\" min-width=\"80\" fixed=\"right\" align=\"center\">\n\n                <template slot-scope=\"scope\">\n                    <el-button type=\"text\" size=\"small\" @click=\"onOrderMark(scope.row.refund_order_id)\">订单备注</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <div class=\"block\">\n            <el-pagination :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"tableFrom.limit\" :current-page=\"tableFrom.page\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"tableDataRefund.total\" @size-change=\"handleSizeChangeRefund\" @current-change=\"pageChangeRefund\" />\n        </div>\n    </el-card>\n</div>\n",null]}