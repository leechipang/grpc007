{"remainingRequest":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\marketing\\coupon\\couponList\\index.vue?vue&type=template&id=935d46c6&scoped=true&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\marketing\\coupon\\couponList\\index.vue","mtime":1612255397000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"divBox\">\n  <el-card class=\"box-card\">\n    <div slot=\"header\" class=\"clearfix\">\n      <div class=\"filter-container\">\n        <div class=\"demo-input-suffix acea-row\">\n          <span class=\"seachTiele\">状态：</span>\n          <el-select v-model=\"tableFrom.status\" placeholder=\"请选择\" class=\"filter-item selWidth mr20\" clearable @change=\"getList(1)\">\n            <el-option label=\"未开启\" :value=\"0\" />\n            <el-option label=\"开启\" :value=\"1\" />\n          </el-select>\n          <span class=\"seachTiele\">商户类别：</span>\n          <el-select\n              v-model=\"tableFrom.is_trader\"\n              class=\"filter-item selWidth mr20\"\n              clearable\n              placeholder=\"请选择\"\n              @change=\"getList(1)\"\n            >\n              <el-option label=\"自营\" value=\"1\" />\n              <el-option label=\"非自营\" value=\"0\" />\n          </el-select>\n          <span class=\"seachTiele\">关键字：</span>\n          <el-input v-model=\"tableFrom.coupon_name\" placeholder=\"请输入优惠券名称\" class=\"selWidth\" clearable>\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getList(1)\" />\n          </el-input>\n        </div>\n      </div>\n    </div>\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"tableData.data\"\n      style=\"width: 100%\"\n      size=\"small\"\n      highlight-current-row\n    >\n      <el-table-column\n        prop=\"coupon_id\"\n        label=\"ID\"\n        min-width=\"50\"\n      />\n      <el-table-column\n        prop=\"title\"\n        label=\"优惠劵名称\"\n        min-width=\"120\"\n      />\n      <el-table-column\n        label=\"优惠劵类型\"\n        min-width=\"90\"\n      >\n        <template slot-scope=\"{ row }\">\n          <span>{{ row.type | couponTypeFilter }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"商户名称\"\n        min-width=\"180\"\n      >\n        <template slot-scope=\"{ row }\">\n          <span>{{ row.merchant ? row.merchant.mer_name : '' }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"mer_name\" label=\"商户类别\" min-width=\"90\">\n        <template slot-scope=\"scope\">\n          <span v-if=\"scope.row.merchant\" class=\"spBlock\">{{ scope.row.merchant.is_trader ? '自营' : '非自营' }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        min-width=\"200\"\n        label=\"领取日期\"\n      >\n        <template slot-scope=\"{ row }\">\n          <div v-if=\"row.start_time\">\n            {{ row.start_time }} - {{ row.end_time }}\n          </div>\n          <span v-else>不限时</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        min-width=\"200\"\n        label=\"使用时间\"\n      >\n        <template slot-scope=\"{ row }\">\n          <div v-if=\"row.use_start_time && row.use_end_time\">\n            {{ row.use_start_time }} <br/>- {{ row.use_end_time }}\n          </div>\n          <span v-else>{{ row.coupon_time }}天</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        min-width=\"100\"\n        label=\"发布数量\"\n      >\n        <template slot-scope=\"{ row }\">\n          <span v-if=\"row.is_limited ===0 \">不限量</span>\n          <div v-else>\n            <span class=\"fa\">发布：{{ row.total_count }}</span>\n            <span class=\"sheng\">剩余：{{ row.remain_count }}</span>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column\n        min-width=\"100\"\n        label=\"使用数量\"\n      >\n        <template slot-scope=\"{ row }\">\n          <div>\n            <span>已领取总数：{{ row.send_num }}</span>\n            <span class=\"sheng\">已使用总数：{{ row.used_num }}</span>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"状态\"\n        min-width=\"100\"\n      >\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.status | filterOpen }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" min-width=\"160\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"small\" class=\"mr10\" @click=\"details(scope.row.coupon_id)\">详情</el-button>\n          <el-button type=\"text\" size=\"small\" class=\"mr10\" @click=\"receive(scope.row.coupon_id)\">领取记录</el-button>\n          <el-button type=\"text\" size=\"small\" class=\"mr10\" @click=\"usedRecord(scope.row.coupon_id)\">使用记录</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"block\">\n      <el-pagination\n        :page-sizes=\"[20, 40, 60, 80]\"\n        :page-size=\"tableFrom.limit\"\n        :current-page=\"tableFrom.page\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"tableData.total\"\n        @size-change=\"handleSizeChange\"\n        @current-change=\"pageChange\"\n      />\n    </div>\n  </el-card>\n  <!--优惠券详情-->\n  <el-dialog title=\"优惠券详情\" :visible.sync=\"detailDialog\" width=\"700px\" v-if=\"detailDialog\">\n    <div>\n      <div class=\"box-container\">\n        <div class=\"list sp\">\n          <label class=\"name\">优惠券名称：</label>\n          <span class=\"info\">{{ couponDetail.title }}</span>\n        </div>\n        <div class=\"list sp\">\n          <label class=\"name\">优惠券类型：</label>\n          <span class=\"info\">{{ couponDetail.coupon_type | couponTypeFilter }}</span>\n        </div>\n        <div class=\"list sp\">\n          <label class=\"name\">优惠券面值：</label>\n          <span class=\"info\">{{ couponDetail.coupon_price }}</span>\n        </div>\n        <div class=\"list sp\">\n          <label class=\"name\">使用门槛：</label>\n          <span class=\"info\">{{ couponDetail.use_min_price == '0.00' ? \"无门槛\" : \"最低消费\"+couponDetail.use_min_price }}</span>\n        </div>\n        <div class=\"list sp100\">\n          <label class=\"name\">使用有效期：</label>\n          <span v-if=\"couponDetail.coupon_time\" class=\"info\">{{ couponDetail.coupon_time  }}</span>\n          <span v-else class=\"info\">{{ couponDetail.use_start_time + \" - \" + couponDetail.use_end_time }}</span>\n        </div>\n        <div class=\"list sp100\">\n          <label class=\"name\">领取时间：</label>\n          <span class=\"info\" v-if=\"couponDetail.is_timeout == 1\">{{ couponDetail.start_time }} - {{ couponDetail.end_time }}</span>\n          <span v-else class=\"info\">不限时</span>\n        </div>\n        <div class=\"list sp\">\n          <label class=\"name\">类型：</label>\n          <span class=\"info\">{{ couponDetail.coupon_type | couponUseTypeFilter }}</span>\n        </div>\n        <div class=\"list sp\">\n          <label class=\"name\">是否限量：</label>\n          <span class=\"info\">{{ couponDetail.is_limited | filterClose }}</span>\n        </div>\n        <div class=\"list sp\">\n          <label class=\"name\">已发布总数：</label>\n          <span class=\"info\">{{ couponDetail.is_limited == 0 ? \"不限量\" : couponDetail.total_count }}</span>\n        </div>\n        <div class=\"list sp\">\n          <label class=\"name\">剩余总数：</label>\n          <span class=\"info\">{{ couponDetail.is_limited == 0 ? \"不限量\" : couponDetail.remain_count }}</span>\n        </div>\n        <div class=\"list sp100\">\n          <label class=\"name\">已领取/发放总数：</label>\n          <span class=\"info\">{{ couponDetail.send_num  }}</span>\n          <el-button size=\"small\" type=\"text\" class=\"ml20\" @click=\"receive(couponDetail.coupon_id)\">领取记录</el-button>\n        </div>\n        <div class=\"list sp100\">\n          <label class=\"name\">已使用总数：</label>\n          <span class=\"info\">{{ couponDetail.used_num }}</span>\n          <el-button size=\"small\" type=\"text\" class=\"ml20\" @click=\"usedRecord(couponDetail.coupon_id)\">使用记录</el-button>\n        </div>\n        <div class=\"list sp\">\n          <label class=\"name\">排序：</label>\n          <span class=\"info\">{{ couponDetail.sort }}</span>\n        </div>\n        <div class=\"list sp\">\n          <label class=\"name\">状态：</label>\n          <span class=\"info\">{{ couponDetail.status ? \"开启\" : \"关闭\" }}</span>\n        </div>\n      </div>\n    </div>\n  </el-dialog>\n  <!--领取记录-->\n  <el-dialog\n    :title=\"title\"\n    :visible.sync=\"dialogVisible\"\n    min-width=\"500px\"\n    :before-close=\"handleClose\"\n    class=\"modalbox\"\n  >\n    <el-table\n      v-loading=\"Loading\"\n      :data=\"issueData.data\"\n      style=\"width: 100%\"\n      size=\"small\"\n      highlight-current-row\n    >\n      <el-table-column\n        prop=\"user.nickname\"\n        label=\"用户名\"\n        min-width=\"120\"\n      />\n      <el-table-column label=\"用户头像\" min-width=\"80\">\n        <template slot-scope=\"scope\">\n          <div v-if=\"scope.row.user && scope.row.user.avatar\" class=\"demo-image__preview\">\n            <img\n              style=\"width: 36px; height: 36px\"\n              :src=\"scope.row.user.avatar\"\n            />\n          </div>\n          <div v-else  class=\"demo-image__preview\">\n            <img\n              style=\"width: 36px; height: 36px\"\n              src=\"../../../../assets/images/f.png\"\n            />\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"receiveTime\"\n        min-width=\"180\"\n      >\n        <template slot-scope=\"scope\">\n          <span v-if=\"receiveType === 0\">{{scope.row.create_time}}</span>\n          <span v-else>{{ scope.row.use_time }}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"block\">\n      <el-pagination\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :page-size=\"tableFromIssue.limit\"\n        :current-page=\"tableFromIssue.page\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"issueData.total\"\n        @size-change=\"handleSizeChangeIssue\"\n        @current-change=\"pageChangeIssue\"\n      />\n    </div>\n  </el-dialog>\n</div>\n",null]}