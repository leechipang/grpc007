{"remainingRequest":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\marketing\\assist\\assist_goods\\index.vue?vue&type=template&id=2a68f6d4&scoped=true&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\marketing\\assist\\assist_goods\\index.vue","mtime":1612255397000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"divBox\">\n  <el-card class=\"box-card\">\n    <div slot=\"header\" class=\"clearfix\">\n      <div class=\"container\">\n        <el-form size=\"small\" inline label-width=\"120px\">\n          <el-form-item label=\"状态：\" style=\"display: block;\">\n            <el-radio-group\n              v-model=\"tableFrom.product_status\"\n              type=\"button\"\n              class=\"mr20\"\n              size=\"small\"\n              @change=\"getList(1)\"\n              clearable\n            >\n              <el-radio-button\n                v-for=\"(item,i) in fromList.fromTxt\"\n                :key=\"i\"\n                :label=\"item.val\"\n              >{{ item.text }}</el-radio-button>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"商品搜索：\">\n            <el-input v-model=\"tableFrom.keyword\" placeholder=\"请输入商品名称/ID\" class=\"selWidth\">\n              <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getList(1)\" />\n            </el-input>\n          </el-form-item>\n          <el-form-item label=\"商户名称：\">\n            <el-select\n              v-model=\"tableFrom.mer_id\"\n              clearable\n              filterable\n              placeholder=\"请选择\"\n              class=\"selWidth\"\n              @change=\"getList(1)\"\n            >\n              <el-option\n                v-for=\"item in merSelect\"\n                :key=\"item.mer_id\"\n                :label=\"item.mer_name\"\n                :value=\"item.mer_id\"\n              />\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"商户类别：\" style=\"display: inline-block;\">\n            <el-select\n              v-model=\"tableFrom.is_trader\"\n              clearable\n              placeholder=\"请选择\"\n              class=\"selWidth\"\n              @change=\"getList(1)\"\n            >\n              <el-option label=\"自营\" value=\"1\" />\n              <el-option label=\"非自营\" value=\"0\" />\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"助力活动状态：\">\n            <el-select\n              v-model=\"tableFrom.type\"\n              placeholder=\"请选择\"\n              class=\"filter-item selWidth mr20\"\n              clearable\n              @change=\"getList(1)\"\n            >\n              <el-option\n                v-for=\"item in assistStatusList\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              />\n            </el-select>\n\n          </el-form-item>\n          <el-form-item label=\"显示状态：\" style=\"display: inline-block;\">\n            <el-select\n              v-model=\"tableFrom.status\"\n              clearable\n              placeholder=\"请选择\"\n              class=\"selWidth\"\n              @change=\"getList(1)\"\n            >\n              <el-option label=\"显示\" value=\"1\" />\n              <el-option label=\"隐藏\" value=\"0\" />\n            </el-select>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n    <el-table v-loading=\"listLoading\" :data=\"tableData.data\" style=\"width: 100%\" size=\"mini\">\n      <el-table-column prop=\"product_assist_id\" label=\"ID\" min-width=\"50\" />\n      <el-table-column label=\"商户名称\" min-width=\"150\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.merchant ? scope.row.merchant.mer_name :'' }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"mer_name\" label=\"商户类别\" min-width=\"90\">\n        <template slot-scope=\"scope\">\n          <span v-if=\"scope.row.merchant\" class=\"spBlock\">{{ scope.row.merchant.is_trader ? '自营' : '非自营' }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"助力商品图\" min-width=\"80\">\n        <template slot-scope=\"scope\">\n          <div class=\"demo-image__preview\">\n            <el-image :src=\"scope.row.product.image\" :preview-src-list=\"[scope.row.product.image]\" />\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"store_name\" label=\"商品名称\" min-width=\"120\" />\n      <el-table-column label=\"助力价格\" min-width=\"90\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.assistSku && scope.row.assistSku[0].assist_price ? scope.row.assistSku[0].assist_price : 0 }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"assist_count\" label=\"助力人数\" min-width=\"90\" />\n      <el-table-column prop=\"stock\" label=\"助力活动状态\" min-width=\"90\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.assist_status === 0 ? '未开始' :  scope.row.assist_status === 1 ? '正在进行' : '已结束' }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"活动时间\" min-width=\"160\">\n        <template slot-scope=\"scope\">\n          <div>开始日期：{{ scope.row.start_time && scope.row.start_time ? scope.row.start_time.slice(0,10) : \"\" }}</div>\n          <div>结束日期：{{ scope.row.end_time && scope.row.end_time ? scope.row.end_time.slice(0,10) : \"\" }}</div>\n        </template>\n      </el-table-column>\n      <el-table-column  label=\"助力成功人数/参与人次\"  min-width=\"180\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.success }} / {{ scope.row.all }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"限量\" min-width=\"60\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.assistSku && scope.row.assistSku.length ? scope.row.assistSku[0].stock_count : 0 }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"限量剩余\"  min-width=\"60\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.assistSku && scope.row.assistSku.length ? scope.row.assistSku[0].stock : 0 }} </span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"status\" label=\"显示状态\" min-width=\"80\">\n        <template slot-scope=\"scope\">\n          <el-switch\n            v-model=\"scope.row.status\"\n            :active-value=\"1\"\n            :inactive-value=\"0\"\n            active-text=\"显示\"\n            inactive-text=\"隐藏\"\n            @change=\"onchangeIsShow(scope.row)\"\n          />\n        </template>\n      </el-table-column>\n      <el-table-column label=\"排序\" min-width=\"60\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.product.rank }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"审核状态\" min-width=\"130\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.product_status === 0 ? \"待审核\" : scope.row.product_status === 1 ? \"审核通过\" : \"审核失败\"}}</span>\n          <span v-if=\"scope.row.product_status === -1 || scope.row.product_status === -2\" style=\"font-size: 12px;\">\n            <br />\n            原因：{{ scope.row.refusal }}\n          </span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" min-width=\"150\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"small\" class=\"mr10\" @click=\"onEdit(scope.row.product_assist_id)\">编辑</el-button>\n          <el-button v-if=\"scope.row.product_status === 0\" type=\"text\" size=\"small\" @click=\"toReview(scope.row.product_assist_id)\">审核</el-button>\n          <el-button type=\"text\" size=\"small\" class=\"mr10\" @click=\"goDetail(scope.row.product_assist_id)\">查看详情</el-button>\n          <el-button v-if=\"scope.row.product_status !== 0 && scope.row.product_status !== -1\" type=\"text\" size=\"small\" class=\"mr10\" @click=\"toOff(scope.row.product_assist_id,scope.$index)\">强制下架</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"block\">\n      <el-pagination\n        :page-sizes=\"[20, 40, 60, 80]\"\n        :page-size=\"tableFrom.limit\"\n        :current-page=\"tableFrom.page\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"tableData.total\"\n        @size-change=\"handleSizeChange\"\n        @current-change=\"pageChange\"\n      />\n    </div>\n  </el-card>\n  <!--商品编辑-->\n  <el-dialog\n    title=\"商品编辑\"\n    :visible.sync=\"dialogVisible\"\n    width=\"1000px\"\n    :before-close=\"handleClose\"\n  >\n    <el-form ref=\"formValidate\" v-loading=\"fullscreenLoading\" class=\"formValidate mt20\" :rules=\"ruleValidate\" :model=\"formValidate\" label-width=\"100px\" @submit.native.prevent>\n      <el-form-item label=\"商品名称：\" prop=\"store_name\">\n        <el-input v-model=\"formValidate.store_name\" placeholder=\"请输入商品名称\" />\n      </el-form-item>\n      <el-form-item label=\"商品推荐：\">\n        <el-checkbox-group v-model=\"checkboxGroup\" size=\"small\" @change=\"onChangeGroup\">\n          <el-checkbox v-for=\"(item, index) in recommend\" :key=\"index\" :label=\"item.value\">{{ item.name }}</el-checkbox>\n        </el-checkbox-group>\n      </el-form-item>\n      <el-form-item label=\"排序：\">\n        <el-input-number v-model=\"formValidate.rank\" placeholder=\"请输入排序序号\" style=\"width: 200px;\"/>\n      </el-form-item>\n      <el-col :span=\"24\">\n        <el-form-item label=\"商品详情：\">\n          <ueditor-from v-model=\"formValidate.content\" :content=\"formValidate.content\" />\n        </el-form-item>\n      </el-col>\n      <el-form-item style=\"margin-top:30px;\">\n        <el-button type=\"primary\" class=\"submission\" size=\"small\" @click=\"handleSubmit('formValidate')\">提交</el-button>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n  <!--商品审核-->\n  <info-from ref=\"infoFrom\" :is-show=\"isShow\" @subSuccess=\"subSuccess\" />\n  <!--查看详情-->\n  <details-data ref=\"detailsData\" :is-show=\"isShowDetail\"/>\n</div>\n",null]}