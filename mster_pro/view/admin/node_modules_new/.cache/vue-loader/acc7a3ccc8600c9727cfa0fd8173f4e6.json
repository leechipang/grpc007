{"remainingRequest":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\accounts\\extract\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\accounts\\extract\\index.vue","mtime":1601293043000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n    extractListApi,\n    extractStatusApi\n} from '@/api/accounts'\nimport {\n    fromList\n} from '@/libs/constants.js'\nexport default {\n    name: 'AccountsExtract',\n    data() {\n        return {\n            timeVal: [],\n            tableData: {\n                data: [],\n                total: 0\n            },\n            listLoading: true,\n            tableFrom: {\n                extract_type: '',\n                status: '',\n                date: '',\n                keyword: '',\n                page: 1,\n                limit: 20\n            },\n            fromList: fromList\n        }\n    },\n    mounted() {\n        this.getList()\n    },\n    methods: {\n        onExamine(id) {\n            this.$prompt('未通过', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                inputErrorMessage: '请输入原因',\n                inputType: 'textarea',\n                inputValue: '输入信息不完整或有误!',\n                inputPlaceholder: '请输入原因',\n                inputValidator: (value) => {\n                    if (!value) {\n                        return '请输入原因'\n                    }\n                }\n            }).then(({\n                value\n            }) => {\n                extractStatusApi(id, {\n                    status: -1,\n                    fail_msg: value\n                }).then(res => {\n                    this.$message({\n                        type: 'success',\n                        message: '提交成功'\n                    })\n                    this.getList()\n                }).catch((res) => {\n                    this.$message.error(res.message)\n                })\n            }).catch(() => {\n                this.$message({\n                    type: 'info',\n                    message: '取消输入'\n                })\n            })\n        },\n        ok(id) {\n            this.$modalSure('审核通过吗').then(() => {\n                extractStatusApi(id, {\n                    status: 1\n                }).then(({\n                    message\n                }) => {\n                    this.$message.success(message)\n                    this.getList()\n                }).catch(({\n                    message\n                }) => {\n                    this.$message.error(message)\n                })\n            })\n        },\n        // 选择时间\n        selectChange(tab) {\n            this.timeVal = []\n            this.tableFrom.date = tab\n            this.tableFrom.page = 1;\n            this.getList()\n        },\n        // 具体日期\n        onchangeTime(e) {\n            this.timeVal = e\n            this.tableFrom.date = e ? this.timeVal.join('-') : ''\n            this.tableFrom.page = 1;\n            this.getList()\n        },\n        // 列表\n        getList(num) {\n            this.listLoading = true\n            this.tableFrom.page = num ? num : this.tableFrom.page;\n            extractListApi(this.tableFrom).then(res => {\n                this.tableData.data = res.data.list\n                this.tableData.total = res.data.count\n                this.listLoading = false\n            }).catch((res) => {\n                this.$message.error(res.message)\n                this.listLoading = false\n            })\n        },\n        pageChange(page) {\n            this.tableFrom.page = page\n            this.getList()\n        },\n        handleSizeChange(val) {\n            this.tableFrom.limit = val\n            this.getList()\n        }\n    }\n}\n",null]}