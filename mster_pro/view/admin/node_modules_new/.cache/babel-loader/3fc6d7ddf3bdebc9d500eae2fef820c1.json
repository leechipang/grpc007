{"remainingRequest":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\dashboard\\components\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\dashboard\\components\\user.vue","mtime":1606896719000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/phpstudy_pro/WWW/master/view/admin/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _home = require(\"@/api/home\");\n\nvar _index = _interopRequireDefault(require(\"@/components/echarts/index\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'User',\n  components: {\n    echartsFrom: _index.default\n  },\n  data: function data() {\n    return {\n      fullWidth: document.body.clientWidth,\n      style: {\n        height: '200px'\n      },\n      name: '最近30天',\n      users: null,\n      nameRate: '最近30天',\n      nameVal: 'lately30',\n      usersRate: {},\n      rateType: 'price',\n      optionData: {},\n      fromList: {\n        title: '选择时间',\n        custom: true,\n        fromTxt: [{\n          text: '今天',\n          val: 'today'\n        }, {\n          text: '昨天',\n          val: 'yesterday'\n        }, {\n          text: '最近7天',\n          val: 'lately7'\n        }, {\n          text: '最近30天',\n          val: 'lately30'\n        }, {\n          text: '本月',\n          val: 'month'\n        }, {\n          text: '本年',\n          val: 'year'\n        }]\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.getList('lately30');\n    this.getRate('lately30');\n  },\n  created: function created() {\n    window.addEventListener('resize', this.handleResize);\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n  methods: {\n    handleResize: function handleResize(event) {\n      this.fullWidth = document.body.clientWidth;\n    },\n    setTime: function setTime(val, text) {\n      this.name = text;\n      this.getList(val);\n    },\n    getList: function getList(val) {\n      var _this = this;\n\n      (0, _home.merchantUserApi)({\n        date: val\n      }).then(function (res) {\n        _this.users = res.data;\n      }).catch(function (res) {\n        _this.$message.error(res.message);\n      });\n    },\n    setTimeRate: function setTimeRate(val, text) {\n      this.nameVal = val;\n      this.nameRate = text;\n      this.getRate(val);\n    },\n    changeRate: function changeRate() {\n      this.getRate(this.nameVal);\n    },\n    getRate: function getRate(val) {\n      var _this2 = this;\n\n      (0, _home.userRateApi)({\n        date: val\n      }).then(function (res) {\n        if (res.status === 200) {\n          var seriesData = [];\n          _this2.usersRate = res.data;\n          _this2.rateType === 'price' ? seriesData = [{\n            value: _this2.usersRate.newTotalPrice,\n            name: '新成交用户',\n            itemStyle: {\n              normal: {\n                color: '#4ECB73'\n              }\n            }\n          }, {\n            value: _this2.usersRate.oldTotalPrice,\n            name: '老用户',\n            itemStyle: {\n              normal: {\n                color: '#39A1FF'\n              }\n            }\n          }] : seriesData = [{\n            value: _this2.usersRate.newUser,\n            name: '新成交用户',\n            itemStyle: {\n              normal: {\n                color: '#4ECB73'\n              }\n            }\n          }, {\n            value: _this2.usersRate.oldUser,\n            name: '老用户',\n            itemStyle: {\n              normal: {\n                color: '#39A1FF'\n              }\n            }\n          }];\n          _this2.optionData = {\n            tooltip: {\n              trigger: 'item',\n              formatter: '{a} <br/>{b} : {c} ({d}%)'\n            },\n            legend: {\n              orient: 'vertical',\n              left: 'left',\n              data: ['新成交用户', '老用户']\n            },\n            series: [{\n              name: '访问来源',\n              type: 'pie',\n              radius: '65%',\n              center: ['50%', '65%'],\n              data: seriesData,\n              emphasis: {\n                itemStyle: {\n                  shadowBlur: 10,\n                  shadowOffsetX: 0,\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\n                }\n              }\n            }]\n          };\n        }\n      }).catch(function (res) {\n        _this2.$message.error(res.message);\n      });\n    }\n  }\n};\nexports.default = _default;",null]}