{"remainingRequest":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\user\\list\\userDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\user\\list\\userDetails.vue","mtime":1615965305479},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nvar _user = require(\"@/api/user\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'UserDetails',\n  props: {\n    uid: {\n      type: Number,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      moren: require(\"@/assets/images/f.png\"),\n      loading: false,\n      columns: [],\n      Visible: false,\n      list: [{\n        val: '0',\n        label: '消费记录'\n      }, {\n        val: '3',\n        label: '持有优惠券'\n      }, {\n        val: '4',\n        label: '余额变动'\n      }],\n      tableData: {\n        data: [],\n        total: 0\n      },\n      tableFrom: {\n        page: 1,\n        limit: 6\n      },\n      psInfo: null,\n      type: '0'\n    };\n  },\n  mounted: function mounted() {\n    if (this.uid) {\n      this.getHeader();\n      this.getInfo('0');\n    }\n  },\n  methods: {\n    changeType: function changeType(key) {\n      this.type = key;\n      this.tableFrom.page = 1;\n      this.getInfo(key);\n    },\n    getInfo: function getInfo(key) {\n      var _this = this;\n\n      this.loading = true;\n\n      switch (key) {\n        case '0':\n          (0, _user.userOrderApi)(this.uid, this.tableFrom).then(function (res) {\n            _this.tableData.data = res.data.list;\n            _this.tableData.total = res.data.count;\n            _this.columns = [{\n              title: '订单ID',\n              key: 'order_id',\n              minWidth: 250\n            }, {\n              title: '收货人',\n              key: 'real_name',\n              minWidth: 90\n            }, {\n              title: '商品数量',\n              key: 'total_num',\n              minWidth: 80\n            }, {\n              title: '商品总价',\n              key: 'total_price',\n              minWidth: 90\n            }, {\n              title: '实付金额',\n              key: 'pay_price',\n              minWidth: 90\n            }, {\n              title: '交易完成时间',\n              key: 'pay_time',\n              minWidth: 160\n            }];\n            _this.loading = false;\n          }).catch(function () {\n            _this.loading = false;\n          });\n          break;\n\n        case '3':\n          (0, _user.userCouponApi)(this.uid, this.tableFrom).then(function (res) {\n            _this.tableData.data = res.data.list;\n            _this.tableData.total = res.data.count;\n            _this.columns = [{\n              title: '优惠券名称',\n              key: 'coupon_title',\n              minWidth: 120\n            }, {\n              title: '面值',\n              key: 'coupon_price',\n              minWidth: 120\n            }, // {\n            //   title: '有效期',\n            //   key: 'add_time',\n            //   minWidth: 120\n            // },\n            {\n              title: '最低消费额',\n              key: 'use_min_price',\n              minWidth: 120\n            }, {\n              title: '兑换时间',\n              key: 'use_time',\n              minWidth: 120\n            }];\n            _this.loading = false;\n          }).catch(function () {\n            _this.loading = false;\n          });\n          break;\n\n        default:\n          (0, _user.userBillApi)(this.uid, this.tableFrom).then(function (res) {\n            _this.tableData.data = res.data.list;\n            _this.tableData.total = res.data.count;\n            _this.columns = [{\n              title: '变动金额',\n              key: 'number',\n              minWidth: 90\n            }, {\n              title: '变动后',\n              key: 'balance',\n              minWidth: 90\n            }, {\n              title: '变动积分',\n              key: 'numbers',\n              minWidth: 90\n            }, {\n              title: '变动后',\n              key: 'balances',\n              minWidth: 90\n            }, {\n              title: '类型',\n              key: 'title',\n              minWidth: 100\n            }, {\n              title: '创建时间',\n              key: 'create_time',\n              minWidth: 150\n            }, {\n              title: '备注',\n              key: 'mark',\n              minWidth: 200\n            }];\n            _this.loading = false;\n          }).catch(function () {\n            _this.loading = false;\n          });\n      }\n    },\n    pageChange: function pageChange(page) {\n      this.tableFrom.page = page;\n      this.getInfo(this.type);\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.tableFrom.limit = val;\n      this.getInfo(this.type);\n    },\n    getHeader: function getHeader() {\n      var _this2 = this;\n\n      (0, _user.userDetailApi)(this.uid).then(function (res) {\n        _this2.psInfo = res.data;\n      });\n    }\n  }\n};\nexports.default = _default;",null]}