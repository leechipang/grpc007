{"remainingRequest":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\dashboard\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\src\\views\\dashboard\\index.vue","mtime":1612255397000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\phpstudy_pro\\WWW\\master\\view\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/phpstudy_pro/WWW/master/view/admin/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"D:/phpstudy_pro/WWW/master/view/admin/node_modules/@babel/runtime/helpers/objectSpread2\"));\n\nvar _home = require(\"@/api/home\");\n\nvar _maintain = require(\"@/api/maintain\");\n\nvar _vuex = require(\"vuex\");\n\nvar _baseInfo = _interopRequireDefault(require(\"./components/baseInfo\"));\n\nvar _toDay = _interopRequireDefault(require(\"./components/toDay\"));\n\nvar _ranking = _interopRequireDefault(require(\"./components/ranking\"));\n\nvar _merchantRate = _interopRequireDefault(require(\"./components/merchantRate\"));\n\nvar _userData = _interopRequireDefault(require(\"./components/userData\"));\n\nvar _user = _interopRequireDefault(require(\"./components/user\"));\n\nvar _jsCookie = _interopRequireDefault(require(\"js-cookie\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: \"Dashboard\",\n  components: {\n    baseInfo: _baseInfo.default,\n    toDay: _toDay.default,\n    myRanking: _ranking.default,\n    merchantRate: _merchantRate.default,\n    userData: _userData.default,\n    userFrom: _user.default\n  },\n  data: function data() {\n    return {\n      merTitle: \"商品销量排行\",\n      visitTitle: \"商户访客量排行\",\n      currentRole: \"adminDashboard\",\n      grid: {\n        xl: 8,\n        lg: 8,\n        md: 12,\n        sm: 12,\n        xs: 24\n      },\n      merchantStock: [],\n      merchantVisit: []\n    };\n  },\n  computed: (0, _objectSpread2.default)({}, (0, _vuex.mapGetters)([\"roles\"])),\n  mounted: function mounted() {\n    var _this = this;\n\n    console.log(!_jsCookie.default.get(\"auth\"));\n    this.getAuth();\n    this.getList(\"lately30\");\n    this.getVisit(\"lately30\");\n\n    if (!_jsCookie.default.get(\"auth\")) {\n      (0, _maintain.checkAuthApi)().then(function (res) {\n        if (res.message !== \"success\") {\n          return _this.$notify.warning({\n            title: \"授权提醒\",\n            duration: 0,\n            dangerouslyUseHTMLString: true,\n            message: res.message,\n            render: function render(h) {\n              return h(\"div\", [h(\"a\", {\n                attrs: {\n                  href: \"http://www.crmeb.com/home/grant/applyauthorize.html\",\n                  target: \"_blank\"\n                }\n              }, res.message)]);\n            },\n            onClose: function onClose() {\n              _jsCookie.default.set(\"auth\", true);\n            }\n          });\n        }\n      }).catch(function (res) {});\n    } else {}\n  },\n  methods: {\n    getAuth: function getAuth() {\n      var _this2 = this;\n\n      (0, _maintain.authTypeApi)().then(function (res) {\n        var data = res.data || {};\n\n        if (data.auth_code && data.auth) {\n          _this2.authCode = data.auth_code;\n          _this2.auth = true;\n        }\n      }).catch(function (_ref) {\n        var message = _ref.message;\n\n        _this2.$message.error(message);\n      });\n    },\n    // 商品销量\n    getList: function getList(val) {\n      var _this3 = this;\n\n      (0, _home.merchantStockApi)({\n        date: val\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this3.merchantStock = res.data.list;\n        }\n      }).catch(function (res) {\n        _this3.$message.error(res.message);\n      });\n    },\n    // 商户访客量\n    getVisit: function getVisit(val) {\n      var _this4 = this;\n\n      (0, _home.merchantVisitApi)({\n        date: val\n      }).then(function (res) {\n        if (res.status === 200) {\n          _this4.merchantVisit = res.data.list;\n        }\n      }).catch(function (res) {\n        _this4.$message.error(res.message);\n      });\n    }\n  }\n};\nexports.default = _default;",null]}