(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-browsingHistory-index"],{"0c5a":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page-wrapper history"},[t.list.length>0?t._l(t.list,(function(e,n){return e.product?i("v-uni-view",{staticClass:"item area-row",class:{gary:1==e.product.is_show&&1==e.product.status}},[t.isEdit?i("v-uni-view",{staticClass:"checkbox",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.historyAllCheck(e,n)}}},[e.allCheck?i("v-uni-text",{staticClass:"iconfont icon-xuanzhong1"}):i("v-uni-text",{staticClass:"iconfont icon-weixuanzhong"})],1):t._e(),i("v-uni-view",{staticClass:"item item_count",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goPage(e)}}},[i("v-uni-image",{attrs:{src:e.product.image,mode:""}}),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"title line2"},[t._v(t._s(e.product.store_name))]),i("v-uni-view",{staticClass:"msg"},[1==e.product.is_show&&1==e.product.status?[i("v-uni-view",{staticClass:"price"},[i("v-uni-text",[t._v("￥")]),t._v(t._s(e.product.price))],1),i("v-uni-view",{staticClass:"num"},[t._v("已售"+t._s(e.product.sales)+"件")])]:[i("v-uni-view",{staticClass:"tips"},[t._v("该商品已下架")]),i("v-uni-view",{staticClass:"btn",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.bindDelete(e,n)}}},[t._v("删除")])]],2)],1)],1)],1):t._e()})):[i("emptyPage",{attrs:{title:"暂无浏览记录~"}})],t.list.length>0?i("v-uni-view",{staticClass:"footer acea-row row-between-wrapper area-edit"},[i("v-uni-view",{staticClass:"area-item"},[i("v-uni-view",{staticClass:"allcheckbox",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.subDel("empty")}}},[i("v-uni-text",{staticClass:"iconfont icon-qingkonghuancun"}),i("v-uni-text",{staticClass:"text"},[t._v("清空")])],1)],1),i("v-uni-view",{staticClass:"area-item"},[i("v-uni-view",{staticClass:"allcheckbox",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handleEdit.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont icon-bianji2"}),i("v-uni-text",{staticClass:"text"},[t._v("编辑")])],1)],1)],1):t._e(),t.isEdit?i("v-uni-view",{staticClass:"footer acea-row row-between-wrapper"},[i("v-uni-view",[i("v-uni-view",{staticClass:"allcheckbox",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.checkboxAllChange.apply(void 0,arguments)}}},[t.isAllSelect?i("v-uni-text",{staticClass:"iconfont icon-xuanzhong1"}):i("v-uni-text",{staticClass:"iconfont icon-weixuanzhong"}),t._v("全选")],1)],1),i("v-uni-view",{staticClass:"button acea-row row-middle"},[i("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.subDel("batch")}}},[i("v-uni-button",{staticClass:"bnt",attrs:{formType:"submit"}},[t._v("删除")])],1)],1)],1):t._e()],2)},o=[]},"25ab":function(t,e,i){var n=i("e6eb");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("9489e29e",n,!0,{sourceMap:!1,shadowMode:!1})},3347:function(t,e,i){"use strict";var n=i("25ab"),a=i.n(n);a.a},"35cc":function(t,e,i){"use strict";var n=i("3641"),a=i.n(n);a.a},3641:function(t,e,i){var n=i("c1d6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("085dfbbc",n,!0,{sourceMap:!1,shadowMode:!1})},"4c4d":function(t,e,i){"use strict";i.r(e);var n=i("8b27"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"6b99":function(t,e,i){"use strict";i.r(e);var n=i("0c5a"),a=i("fc87");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("3347");var c,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"708c899d",null,!1,n["a"],c);e["default"]=r.exports},8572:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"empty-box"},[i("v-uni-image",{attrs:{src:"/static/images/empty-box.png"}}),i("v-uni-view",{staticClass:"txt"},[t._v(t._s(t.title))])],1)},o=[]},"8b27":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{title:{type:String,default:"暂无记录"}}};e.default=n},b871:function(t,e,i){"use strict";i.r(e);var n=i("8572"),a=i("4c4d");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("35cc");var c,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"6b1a6701",null,!1,n["a"],c);e["default"]=r.exports},c00c:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),i("4160"),i("a434"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("b871")),o=i("5e22"),c={components:{emptyPage:a.default},data:function(){return{list:[],isScroll:!0,page:1,limit:10,isAllSelect:!1,isEdit:!1,allArr:[]}},onShow:function(){this.list=[],this.allArr=[],this.isScroll=!0,this.page=1,this.getList(),this.isAllSelect=!1,this.isEdit=!1},methods:{getList:function(){if(this.isScroll){var t=this;(0,o.historyList)({page:t.page,limit:t.limit}).then((function(e){var i=e.data;i.list.forEach((function(t,e){t.allCheck=!1})),t.isScroll=i.list.length>=t.limit,t.page+=1,t.list=t.list.concat(i.list)}))}},checkboxAllChange:function(){this.isAllSelect=!this.isAllSelect,this.cartAllCheck("allCheck")},handleEdit:function(){this.isEdit=!0},subDel:function(t){var e,i=this,n="empty"==t?"确定清空浏览记录？":"确定删除浏览记录？";if("batch"==t?(e=[],i.list.forEach((function(t){t.allCheck&&e.push(t.user_visit_id)}))):e=1,0==e.length&&"batch"==t)return i.$util.Tips({title:"请选择记录"});uni.showModal({title:"提示",content:n,success:function(t){if(t.confirm)(0,o.historyBatchDelete)({ids:e}).then((function(t){return i.allArr=[],i.page=1,i.list=[],i.isEdit=!1,i.isScroll=!0,i.getList(),i.$util.Tips({title:t.message,icon:"success"})})).catch((function(t){return i.$util.Tips({title:t})}));else if(t.cancel)return i.$util.Tips({title:"已取消"})}})},historyAllCheck:function(t,e){t.allCheck?t.allCheck=!1:t.allCheck=!0,this.cartAllCheck("itemCheck")},bindDelete:function(t,e){var i=this;(0,o.historyDelete)(t.user_visit_id).then((function(t){i.list.splice(e,1),uni.showToast({title:t.message,icon:"none"})})).catch((function(t){uni.showToast({title:t,icon:"none"})}))},goPage:function(t){uni.navigateTo({url:"/pages/goods_details/index?id=".concat(t.product.product_id)})},cartAllCheck:function(t){var e=this;this.allArr=[],this.list.forEach((function(i,n){"allCheck"==t&&(i.allCheck=e.isAllSelect),i.allCheck&&e.allArr.push(i)})),this.isAllSelect=this.allArr.length==this.list.length}},onReachBottom:function(){this.getList()}};e.default=c},c1d6:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.empty-box[data-v-6b1a6701]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-top:%?200?%}.empty-box uni-image[data-v-6b1a6701]{width:%?414?%;height:%?240?%}.empty-box .txt[data-v-6b1a6701]{font-size:%?26?%;color:#999}',""]),t.exports=e},e6eb:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.page-wrapper[data-v-708c899d]{margin-bottom:%?96?%}.page-wrapper .item[data-v-708c899d]{display:-webkit-box;display:-webkit-flex;display:flex;position:relative;padding:%?25?% %?20?%;background-color:#fff;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%}.page-wrapper .item.item_count[data-v-708c899d]::after{display:none}.page-wrapper .item[data-v-708c899d]:after{content:" ";position:absolute;left:%?20?%;right:0;bottom:0;height:1px;background:#f0f0f0}.page-wrapper .item uni-image[data-v-708c899d]{width:%?170?%;height:%?170?%;border-radius:%?6?%}.page-wrapper .item .info[data-v-708c899d]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?5?% 0;margin-left:%?20?%}.page-wrapper .item .info .title[data-v-708c899d]{font-size:%?30?%;color:#999}.page-wrapper .item .info .msg[data-v-708c899d]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:%?20?%}.page-wrapper .item .info .msg .price[data-v-708c899d]{color:#e93323;font-size:%?34?%}.page-wrapper .item .info .msg .price uni-text[data-v-708c899d]{font-size:%?26?%}.page-wrapper .item .info .msg .num[data-v-708c899d]{font-size:%?22?%;color:#aaa}.page-wrapper .item .info .msg .tips[data-v-708c899d]{font-size:%?24?%;color:#aaa}.page-wrapper .item .info .msg .btn[data-v-708c899d]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?120?%;height:%?46?%;border:1px solid #999;border-radius:%?23?%;font-size:%?26?%;color:#999}.page-wrapper .item.gary .info .title[data-v-708c899d]{color:#333}.history .item .iconfont[data-v-708c899d]{font-size:%?40?%;color:#ccc}.history .item .icon-xuanzhong1[data-v-708c899d]{color:#e93323}.history .footer[data-v-708c899d]{z-index:9;width:100%;height:%?96?%;background-color:#fff;position:fixed;padding:0 %?20?%;box-sizing:border-box;border-top:%?1?% solid #eee;bottom:var(--window-bottom)}.area-edit[data-v-708c899d]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.area-edit .area-item[data-v-708c899d]{width:50%;text-align:center;position:relative;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#333}.area-edit .area-item .text[data-v-708c899d]{position:relative;top:-1px}.area-edit .area-item .iconfont[data-v-708c899d]{color:#333}.area-edit .area-item[data-v-708c899d]:nth-child(1)::after{content:"";display:inline-block;width:%?2?%;height:%?42?%;background:#ccc;position:absolute;top:0;right:0}.history .footer .checkAll[data-v-708c899d]{font-size:%?28?%;color:#282828;margin-left:%?16?%}.allcheckbox .iconfont[data-v-708c899d]{margin-right:11px;font-size:%?40?%;color:#ccc}.allcheckbox .icon-xuanzhong1[data-v-708c899d]{color:#e93323}.history .footer .button .bnt[data-v-708c899d]{font-size:%?28?%;color:#999;border-radius:%?50?%;border:1px solid #999;width:%?160?%;height:%?60?%;text-align:center;line-height:%?60?%}',""]),t.exports=e},fc87:function(t,e,i){"use strict";i.r(e);var n=i("c00c"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a}}]);